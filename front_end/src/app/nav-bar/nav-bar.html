<mat-toolbar class="nav-toolbar">
  <!-- Sidebar toggle -->
  <button
    class="burger-button"
    mat-icon-button
    aria-label="Toggle sidebar"
    (click)="menuToggle.emit()"
  >
    <mat-icon>{{ expanded ? 'menu_open' : 'menu' }}</mat-icon>
  </button>

  <!-- Title -->
  <span class="title">01 Blog</span>
  <span class="toolbar-spacer"></span>

  <div class="profile-menu-wrapper" (click)="toggleMenu($event)">
    
    <!-- Profile Menu -->
    <ng-container *ngIf="userService.user(); else guest">
      <!-- Profile picture -->
      <img
      *ngIf="userService.user()?.pic; else defaultIcon"
      [src]="'http://localhost:8081' + userService.user()?.pic"
        alt="Profile"
        class="profile-pic"
      />
      <ng-template #defaultIcon>
        <mat-icon>account_circle</mat-icon>
      </ng-template>
      
      <!-- Dropdown menu -->
      <div class="dropdown-menu" [class.show]="menuOpen">
        <button class="menu-item" (click)="editProfile()">Edit Profile</button>
        <button class="menu-item logout" (click)="logout()">Log Out</button>
      </div>
    </ng-container>
    <ng-template #guest>
      <button mat-button (click)="editProfile()">Login</button>
    </ng-template>
  </div>
  
  
  <!-- Notifications -->
  <button class="notification-btn" mat-icon-button aria-label="Notifications">
    <mat-icon matBadge="1" matBadgeColor="warn">notifications</mat-icon>
  </button>

</mat-toolbar>
